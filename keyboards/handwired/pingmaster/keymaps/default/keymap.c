/* Copyright 2018 /u/Abiacere
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

/*---------
DEFINITIONS
---------*/

#include "pingmaster.h"

#define KC_TRNS ___
#define _DEFAULT 0
#define _FN 1
#define _WINFN 2
#define _MOUSEKEYS 3
 
/*----
LAYERS
----*/

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

/* Base layer
 * .-------------------------------------------------------------------------------------------------------------------------------------------------------.
 * |																			   |
 * |																			   |
 * |  ===================================================================================================================================================  |
 * |  | Esc |  1  |  2  |  3  |  4  |  5  |  6  |  7  |  8  |  9  |  0  |  -  |  =  |  \  |  `  | Home|///|     |     |     |///|NLock|  /  |  *  | Mode|  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |Tab/GUI|  Q  |  W  |  E  |  R  |  T  |  Y  |  U  |  I  |  O  |  P  |  [  |  ]  |Backspace| PgDn|///|     |     |     |///|  7  |  8  |  9  |  -  |  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |Esc/Ctrl | A  |  S  |  D  |  F  |  G  |  H  |  J  |  K  |  L  |  ;  |  '  | Lead| Delete | PgDn|///|     |     |     |///|  4  |  5  |  6  |  +  |  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |  Shift    |  Z  |  X  |  C  |  V  |  B  |  N  |  M  |  ,  |  .  |  /  |Enter|  Mouse    | End |///|     |     |     |///|  1  |  2  |  3  |  =  |  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  | Caps |  Fn |  Alt  |                                         |   (   |  )  |    Beep          |///|     |     |     |///|  0  |  ,  |  .  |Enter|  |
 * |  `-------------------------------------------------------------------------------------------------------------------------------------------------'  | 
 * `-------------------------------------------------------------------------------------------------------------------------------------------------------'
 */

[_DEFAULT] = KEYMAP( /* Base */
  KC_ESC,  KC_1,  KC_2, KC_3, KC_4, KC_5, KC_6, KC_7, KC_8, KC_9, KC_0, KC_2, KC_3, KC_4, KC_5, KC_6, KC_7, KC_8, KC_9, KC_0, KC_MINS, KC_EQL, KC_BSLS, KC_GRV, KC_HOME, KC_A, KC_A, KC_A, KC_NLCK, KC_PSLS, KC_PAST, KC_COMM, \
  GUI_T(KC_TAB),  KC_Q, KC_W, KC_E, KC_R, KC_T, KC_Y, KC_U, KC_I, KC_O, KC_P, KC_LBRC, KC_RBRC, KC_BSPC, KC_PGUP, KC_A, KC_A, KC_A, KC_P7, KC_P8, KC_P9, KC_PMNS, \
  LCTL_T(KC_ESC), KC_A, KC_S, KC_D, KC_E, KC_F, KC_G, KC_H, KC_J, KC_K, KC_L, KC_SCLN, KC_QUOTE, KC_LEAD, KC_DEL, KC_PGDN, KC_A, KC_A, KC_A, KC_P4, KC_5, KC_6, KC_PPLS, \
  KC_LSFT, KC_Z, KC_X, KC_C, KC_V, KC_B, KC_N, KC_M, KC_COMM, KC_DOT, KC_SLSH, KC_ENTER, KC_A, KC_END, KC_A, KC_A, KC_A, KC_P1, KC_P2, KC_P3, KC_PEQL, \
  LT(_WINFN, KC_CAPS), MO(_FN), KC_LALT, KC_SPACE, KC_LPRN, KC_RPRN, KC_A, KC_A, KC_A, KC_A, KC_P0, KC_PCMM, KC_PDOT, KC_PENT \ 
),

/* Function layer
 * ,=================================================================================================================================================.
 * | Esc |  F1 | F2  | F3  | F4  | F5  | F6  | F7  | F8  | F9  | F10 | F11 | F12 | Ins |ScLk |     |///|  A  |  A  |  A  |///|NLock|  /  |  *  | Mode|
 * |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|
 * |tAB/gui| vold| wfwd| volu|     |     | End | PgDn| PgUp| Home|Print|     |     |  Delete |     |///|  A  |  A  |  A  |///|  7  |  8  |  9  |  -  |
 * |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------| 
 * |Esc/Ctrl |prev| play| next|SfTab| Tab |  <  |  v  |  ^  |  >  |Back | Fwd |     |        |     |///|  A  |  A  |  A  |///|  4  |  5  |  6  |  +  |
 * |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|
 * |  Shift    |     |     |     |     | wbk |BlkL |BlkDn|BlkU |BlkR |     |     |           |     |///|  A  |  A  |  A  |///|  1  |  2  |  3  |  =  |
 * |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|
 * |      |     |       |                                         |       |     |                  |///|  A  |  A  |  A  |///|  0  |  ,  |  .  |Enter|
 * `-------------------------------------------------------------------------------------------------------------------------------------------------'
 */


[_FN] = KEYMAP( /* Fn1 */
 ___, KC_F1, KC_F2, KC_F3, KC_F4, KC_F5, KC_F6, KC_F7, KC_F8, KC_F9, KC_F10, KC_F11, KC_F12, KC_INS, KC_SLCK, ___, ___, ___, ___, ___, ___, ___, ___, \
  ___, KC_VOLD, LCTL(KC_RIGHT), KC_VOLU, ___, ___, KC_END, KC_PGDN, KC_PGUP, KC_HOME, KC_PRINT, ___, ___, KC_DEL, ___, ___, ___, ___, ___, ___, ___, ___, \
  ___, KC_MPREV, KC_MPLY, KC_MNXT, LSFT(KC_TAB), KC_TAB, KC_LEFT, KC_DOWN, KC_UP, KC_RIGHT, LALT(KC_LEFT), LALT(KC_RIGHT), ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, \
  ___, ___, ___, ___, ___, LCTL(KC_LEFT), LCTL(LSFT(KC_LEFT)), LCTL(LSFT(KC_DOWN)), LCTL(LSFT(KC_UP)), LCTL(LSFT(KC_RIGHT)), ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, \
  ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___ \ 
),


/* Windows layer
 * .-------------------------------------------------------------------------------------------------------------------------------------------------------.
 * |																			   |
 * |																			   |
 * |  ===================================================================================================================================================  |
 * |  |     | Opt1| Opt2| Opt3| Opt4| Opt5| Opt6| Opt7| Opt8| Opt9|     |     |     |     |     |     |///| Calc| Cal | Mgr |///|NLock|  /  |  *  | Mode|  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |       |     |     |     |     |     | DtpL|DtpX | Dtp+| DtpR|TskVw|     |     | Alt+F4  | Wake|///| TB7 | TB8 | TB9 |///|  7  |  8  |  9  |  -  |  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |         |    | WinL| WinD| WinU| WinR| MonL|RWdth|FillU| MonR|Peek |NotL | NotR|        |Sleep|///| TB4 | TB5 | TB6 |///|  4  |  5  |  6  |  +  |  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |           |     |     |     |     |DtpPk|     |     |     |     |     |     |           |Power|///| TB1 | TB2 | TB3 |///|  1  |  2  |  3  |  =  |  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |       |     |      |                                         |       |     |                  |///|     |     |     |///|  0  |  ,  |  .  |Enter|  |
 * |  `-------------------------------------------------------------------------------------------------------------------------------------------------'  | 
 * `-------------------------------------------------------------------------------------------------------------------------------------------------------'
 */

[_WINFN] = KEYMAP(
  ___, LGUI(LALT(KC_1)), LGUI(LALT(KC_2)), LGUI(LALT(KC_3), LGUI(LALT(KC_4)), LGUI(LALT(KC_5)), LGUI(LALT(KC_6)), LGUI(LALT(KC_7)), LGUI(LALT(KC_8)), LGUI(LALT(KC_9)), ___, ___, ___, ___, ___, ___, KC_CALC, LGUI(LALT(KC_D)), LCTL(LSFT(KC_ESC)), ___, ___, ___, ___, \
  ___, ___, ___, ___, ___, ___, LCTL(LGUI(KC_RIGHT)), LCTL(LGUI(KC_F4)), LCTL(LGUI(KC_D)), LCTL(LGUI(KC_RIGHT)), LGUI(KC_TAB), ___, ___, LALT(KC_F4), KC_WAKE, LGUI(KC_7), LGUI(KC_8), LGUI(KC_9), ___, ___, ___, ___, \
  ___, ___, LGUI(KC_LEFT), LGUI(KC_DOWN), LGUI(KC_UP), LGUI(KC_RIGHT), LGUI(LSFT(KC_LEFT)), LGUI(LSFT(KC_DOWN)), LGUI(LSFT(KC_UP)), LGUI(LSFT(KC_RIGHT)), LGUI(KC_COMM), LGUI(KC_V), LGUI(LSFT(KC_V)), ___, KC_SLEP, LGUI(KC_4), LGUI(KC_5), LGUI(KC_6), ___, ___, ___, ___, \
  ___, ___, ___, ___, ___, LCTL(LALT(KC_TAB)), ___, ___, ___, ___, ___, ___, ___, KC_PWR, LGUI(KC_1), LGUI(KC_2), LGUI(KC_3), ___, ___, ___, ___, \
  ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___ \
),


/* Mouse layer
 * .-------------------------------------------------------------------------------------------------------------------------------------------------------.
 * |																			   |
 * |																			   |
 * |  ===================================================================================================================================================  |
 * |  |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |///|     |     |     |///|     |     |     |     |  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |       |     |  ^  |     |     |     |     |     | Btn4| |^| | Btn5|     |     |         |     |///|     |     |     |///|     |     |     |     |  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |         | <  |  v  |  >  |LClck|MClck|MClck|RClck| <-- | |v| | --> |     |     |        |     |///|     |     |     |///|     |     |     |     |  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |           | Acc0| Acc1| Acc2|     |     |     |     |     |     |     |     |           |     |///|     |     |     |///|     |     |     |     |  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |       |     |      |                                         |       |     |                  |///|     |     |     |///|     |     |     |     |  |
 * |  `-------------------------------------------------------------------------------------------------------------------------------------------------'  | 
 * `-------------------------------------------------------------------------------------------------------------------------------------------------------'
 */

[_MOUSEKEYS] = KEYMAP(
  ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, \
  ___, ___, KC_MS_U, ___, ___, ___, ___, ___, KC_BTN4, KC_WH_U, KC_BTN5, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, \
  ___, KC_MS_L, KC_MS_D, KC_MS_R, KC_BTN1, KC_BTN3, KC_BTN3, KC_BTN2, KC_WH_L, KC_WH_D, KC_WH_R, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, \
  ___, KC_ACL0, KC_ACL1, KC_ACL2, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, \
  ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___, ___ \
),
 
/* Blank template 
 * .-------------------------------------------------------------------------------------------------------------------------------------------------------.
 * |																			   |
 * |																			   |
 * |  ===================================================================================================================================================  |
 * |  |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |///|     |     |     |///|     |     |     |     |  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |       |     |     |     |     |     |     |     |     |     |     |     |     |         |     |///|     |     |     |///|     |     |     |     |  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |         |    |     |     |     |     |     |     |     |     |     |     |     |        |     |///|     |     |     |///|     |     |     |     |  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |           |     |     |     |     |     |     |     |     |     |     |     |           |     |///|     |     |     |///|     |     |     |     |  |
 * |  |-----------------------------------------------------------------------------------------------|///|-----------------|///|-----------------------|  |
 * |  |       |     |      |                                         |       |     |                  |///|     |     |     |///|     |     |     |     |  |
 * |  `-------------------------------------------------------------------------------------------------------------------------------------------------'  | 
 * `-------------------------------------------------------------------------------------------------------------------------------------------------------'
 */
};

const uint16_t PROGMEM fn_actions[] = {

};

const macro_t *action_get_macro(keyrecord_t *record, uint8_t id, uint8_t opt)
{
  // MACRODOWN only works in this function
      switch(id) {
        case 0:
          if (record->event.pressed) {
            register_code(KC_RSFT);
          } else {
            unregister_code(KC_RSFT);
          }
        break;
      }
    return MACRO_NONE;
};


void matrix_init_user(void) {

}

void matrix_scan_user(void) {

}

bool process_record_user(uint16_t keycode, keyrecord_t *record) {
  return true;
}

void led_set_user(uint8_t usb_led) {

}
